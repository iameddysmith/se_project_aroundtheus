!function(){"use strict";class e{constructor(e,t,s,r,i){this._data={name:e.name,link:e.link,id:e._id,isLiked:e.isLiked},this._handleImageClick=s,this._handleDeleteClick=r,this._handleLikeClick=i,this._cardSelector=t}_setEventListeners(){this._likeIcon.addEventListener("click",(()=>{this._handleLikeClick(this._likeIcon,this._data.isLiked,this._data.id),this._data.isLiked=!this._data.isLiked})),this._deleteBtn.addEventListener("click",(()=>{this._handleDeleteClick(this._data.id,this._cardElement)})),this._cardImageEl.addEventListener("click",(()=>{this._handleImageClick(this._data)}))}getView(){return this._cardElement=document.querySelector(this._cardSelector).content.querySelector(".card").cloneNode(!0),this._cardImageEl=this._cardElement.querySelector(".card__image"),this._cardTitleEl=this._cardElement.querySelector(".card__title"),this._cardTitleEl.textContent=this._data.name,this._cardImageEl.src=this._data.link,this._cardImageEl.alt="Photo of "+this._data.name,this._likeIcon=this._cardElement.querySelector(".card__react-button"),this._deleteBtn=this._cardElement.querySelector(".card__delete-button"),this._data.isLiked?this._likeIcon.classList.add("card__react-button_active"):this._likeIcon.classList.remove("card__react-button_active"),this._setEventListeners(),this._cardElement}}class t{constructor(e,t){this._inputSelector=e.inputSelector,this._submitButtonSelector=e.submitButtonSelector,this._inactiveButtonClass=e.inactiveButtonClass,this._inputErrorClass=e.inputErrorClass,this._errorClass=e.errorClass,this._form=t}_showInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.add(this._inputErrorClass),t.textContent=e.validationMessage,t.classList.add(this._errorClass)}_hideInputError(e){const t=this._form.querySelector(`#${e.id}-error`);e.classList.remove(this._inputErrorClass),t.textContent="",t.classList.remove(this._errorClass)}_checkInputValidity(e){if(!e.validity.valid)return this._showInputError(e);this._hideInputError(e)}_hasInvalidInput(e){return!e.every((e=>e.validity.valid))}_enableButton(){this._submitBtn.classList.remove(this._inactiveButtonClass),this._submitBtn.disabled=!1}disableButton(){this._submitBtn.classList.add(this._inactiveButtonClass),this._submitBtn.disabled=!0}_toggleButtonState(){this._hasInvalidInput(this._inputEls)?this.disableButton():this._enableButton()}resetValidation(){this._inputEls.forEach((e=>{this._hideInputError(e)})),this._enableButton()}setEventListeners(){this._inputEls=[...this._form.querySelectorAll(this._inputSelector)],this._submitBtn=this._form.querySelector(this._submitButtonSelector),this._inputEls.forEach((e=>{e.addEventListener("input",(()=>{this._checkInputValidity(e),this._toggleButtonState()}))}))}enableValidation(){this._form.addEventListener("submit",(e=>{e.preventDefault(e)})),this.setEventListeners()}}class s{constructor(e,t){let{items:s,renderer:r}=e;this._items=s,this._renderer=r,this._container=document.querySelector(t)}renderItems(){this._items.forEach((e=>{const t=this._renderer(e);this.addItem(t)}))}addItem(e){this._container.prepend(e)}}class r{constructor(e){this._popupElement=document.querySelector(e),this._handleEscClose=this._handleEscClose.bind(this),this._closeButton=this._popupElement.querySelector(".modal__close-button")}open(){this._popupElement.classList.add("modal_open"),document.addEventListener("keydown",this._handleEscClose)}close(){this._popupElement.classList.remove("modal_open"),document.removeEventListener("keydown",this._handleEscClose)}_handleEscClose(e){"Escape"===e.key&&this.close()}setEventListeners(){this._closeButton.addEventListener("click",(()=>{this.close()})),this._popupElement.addEventListener("click",(e=>{e.target===this._popupElement&&this.close()}))}}class i extends r{constructor(e,t){super(e),this._popupForm=this._popupElement.querySelector(".modal__form"),this._handleFormSubmit=t,this._inputList=this._popupForm.querySelectorAll(".modal__form-input"),this._submitBtn=this._popupForm.querySelector(".modal__save-button")}_getInputValues(){return this._formValues={},this._inputList.forEach((e=>{this._formValues[e.name]=e.value})),this._formValues}reset(){this._popupForm&&this._popupForm.reset()}setEventListeners(){super.setEventListeners(),this._popupForm&&this._popupForm.addEventListener("submit",(e=>{e.preventDefault(),this._handleFormSubmit(this._getInputValues())}))}open(){super.open()}setSubmitHandler(e){this._handleFormSubmit=e}setLoading(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Saving...",s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Save";this._submitBtn&&(e?(this._submitBtn.textContent=t,this._submitBtn.setAttribute("disabled",!0)):(this._submitBtn.textContent=s,this._submitBtn.removeAttribute("disabled")))}}const a={formSelector:".modal__form",inputSelector:".modal__form-input",submitButtonSelector:".modal__save-button",inactiveButtonClass:"modal__save-button-disabled",inputErrorClass:"modal__form_input_type_error",errorClass:"modal__form-input-error-visible"},n={profileEditBtn:document.querySelector("#profile-edit-btn"),profileTitleInput:document.querySelector("#profile-title-input"),profileEditForm:document.forms["profile-form"],profileDescriptionInput:document.querySelector("#profile-description-input"),placesAddBtn:document.querySelector("#places-add-btn"),placeAddForm:document.forms["add-place-form"],avatarUpdateBtn:document.querySelector("#avatar-save-btn"),avatarForm:document.forms["update-avatar-form"]},{profileEditBtn:o,profileTitleInput:l,profileEditForm:d,profileDescriptionInput:c,placesAddBtn:h,placeAddForm:u,avatarUpdateBtn:_,avatarForm:m}=n,p=new class{constructor(e){let{baseUrl:t,headers:s}=e;this._baseUrl=t,this._headers=s}getInitialCards(){return fetch(`${this._baseUrl}/cards`,{method:"GET",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}getUserInfo(){return fetch(`${this._baseUrl}/users/me`,{method:"GET",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}editUserInfo(e,t){return fetch(`${this._baseUrl}/users/me`,{method:"PATCH",headers:this._headers,body:JSON.stringify({name:e,about:t})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}addNewPlace(e,t){return fetch(`${this._baseUrl}/cards`,{method:"POST",headers:this._headers,body:JSON.stringify({name:e,link:t})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}removePlace(e){return fetch(`${this._baseUrl}/cards/${e}`,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}updateAvatar(e){return fetch(`${this._baseUrl}/users/me/avatar`,{method:"PATCH",headers:this._headers,body:JSON.stringify({avatar:e})}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}addLikeReact(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"PUT",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}removeLikeReact(e){return fetch(`${this._baseUrl}/cards/${e}/likes`,{method:"DELETE",headers:this._headers}).then((e=>e.ok?e.json():Promise.reject(`Error: ${e.status}`)))}}({baseUrl:"https://around-api.en.tripleten-services.com/v1",headers:{authorization:"86ad626a-488e-4505-926f-04913062aa19","content-type":"application/json"}});function v(e){S.open(e)}const E=new t(a,d),f=new t(a,u),b=new t(a,m),L=new i("#profile-edit-modal",(function(e){L.setLoading(!0);const t={name:e.title,about:e.description};p.editUserInfo(t.name,t.about).then((e=>{w.setUserInfo(e),L.close()})).catch((e=>{console.error("Error updating user info:",e)})).finally((()=>{L.setLoading(!1)}))})),k=new i("#places-add-modal",(function(e){k.setLoading(!0);const t={name:e.title,link:e.url};p.addNewPlace(t.name,t.link).then((e=>{const t=C({name:e.name,link:e.link,_id:e._id});B.addItem(t),k.close(),k.reset()})).catch((e=>{console.error("Error adding new place:",e)})).finally((()=>{k.setLoading(!1),f.disableButton()}))})),g=new i("#avatar-update-modal",(function(e){let{url:t}=e;g.setLoading(!0),p.updateAvatar(t).then((e=>{w.updateAvatar(t),g.reset(),g.close(),console.log("Success:",e)})).catch((e=>{console.error("Error updating profile avatar:",e)})).finally((()=>{g.setLoading(!0,"Save")}))})),S=new class extends r{constructor(e){super(e),this._previewImage=this._popupElement.querySelector(".modal__image-preview"),this._previewTitle=this._popupElement.querySelector(".modal__image-caption")}open(e){this._previewImage.src=e.link,this._previewImage.alt=e.name,this._previewTitle.textContent=e.name,super.open()}}("#places-preview-modal"),I=new i("#places-delete-modal",(()=>{}));function y(e,t){I.setSubmitHandler((()=>{I.setLoading(!0,"Removing...","Yes"),p.removePlace(e).then((()=>{t.remove(),I.close()})).catch((e=>{console.error("Error deleting place:",e)})).finally((()=>{I.setLoading(!1,"Removing...","Yes")}))})),I.open()}function C(t){return new e(t,"#card-template",v,y,q).getView()}let B;L.setEventListeners(),S.setEventListeners(),g.setEventListeners(),k.setEventListeners(),I.setEventListeners(),b.enableValidation(),E.enableValidation(),f.enableValidation(),p.getInitialCards().then((e=>{B=new s({items:e,renderer:e=>C(e)},".cards__list"),B.renderItems()})).catch((e=>console.error(e)));const w=new class{constructor(){this._profileName=document.querySelector(".profile__title"),this._profileJob=document.querySelector(".profile__description"),this._profileAvatar=document.querySelector(".profile__image")}updateAvatar(e){this._profileAvatar.src=e}getUserInfo(){return{name:this._profileName.textContent,job:this._profileJob.textContent,avatar:this._profileAvatar.src}}setUserInfo(e){let{name:t,about:s,avatar:r}=e;this._profileName.textContent=t,this._profileJob.textContent=s,r?(this._profileAvatar.src=r,this._profileAvatar.alt=t):this._profileAvatar.src="./images/avatar_default.png"}};function q(e,t,s){t?p.removeLikeReact(s).then((()=>{e.classList.remove("card__react-button_active")})).catch((e=>console.error("Error removing like reaction:",e))):p.addLikeReact(s).then((()=>{e.classList.add("card__react-button_active")})).catch((e=>console.error("Error adding like reaction:",e)))}p.getUserInfo().then((e=>{w.setUserInfo(e)})).catch((e=>console.error(e))),o.addEventListener("click",(()=>{const{name:e,job:t}=w.getUserInfo();l.value=e,c.value=t,L.open(),E.resetValidation()})),h.addEventListener("click",(()=>{k.open()})),_.addEventListener("click",(()=>{g.open()}))}();
//# sourceMappingURL=data:application/json;charset=utf-8;base64,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QTRCLElBRXhEMkksT0FBT0csR0FBVUQsUUFBUUMsTUFBTSxnQ0FBaUNBLEtBRW5FOUMsRUFDRzBCLGFBQWFDLEdBQ2JuQixNQUFLLEtBQ0oyRCxFQUFVckssVUFBVUMsSUFBSSw0QkFBNEIsSUFFckQ0SSxPQUFPRyxHQUFVRCxRQUFRQyxNQUFNLDhCQUErQkEsSUFFckUsQ0FoR0E5QyxFQUNHZSxjQUNBUCxNQUFNNkQsSUFDTDVCLEVBQVNDLFlBQVkyQixFQUFZLElBRWxDMUIsT0FBT0MsR0FBUUMsUUFBUUMsTUFBTUYsS0E4RmhDckQsRUFBZXRHLGlCQUFpQixTQUFTLEtBQ3ZDLE1BQU0sS0FBRVgsRUFBSSxJQUFFNEwsR0FBUXpCLEVBQVMxQixjQUMvQnZCLEVBQWtCaEIsTUFBUWxHLEVBQzFCcUgsRUFBd0JuQixNQUFRMEYsRUFDaEMvQixFQUFpQnpFLE9BQ2pCc0UsRUFBc0JoRyxpQkFBaUIsSUFJekM0RCxFQUFhM0csaUJBQWlCLFNBQVMsS0FDckMrSixFQUFjdEYsTUFBTSxJQUl0Qm9DLEVBQWdCN0csaUJBQWlCLFNBQVMsS0FDeEN1SyxFQUFrQjlGLE1BQU0sRyIsInNvdXJjZXMiOlsid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL0NhcmQuanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvY29tcG9uZW50cy9TZWN0aW9uLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEZvcm0uanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL3V0aWxzL2NvbnN0YW50cy5qcyIsIndlYnBhY2s6Ly9wcmFjdGljdW0vLi9zcmMvcGFnZXMvaW5kZXguanMiLCJ3ZWJwYWNrOi8vcHJhY3RpY3VtLy4vc3JjL2NvbXBvbmVudHMvQXBpLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzIiwid2VicGFjazovL3ByYWN0aWN1bS8uL3NyYy9jb21wb25lbnRzL1VzZXJJbmZvLmpzIl0sInNvdXJjZXNDb250ZW50IjpbImV4cG9ydCBkZWZhdWx0IGNsYXNzIENhcmQge1xuICBjb25zdHJ1Y3RvcihcbiAgICBkYXRhLFxuICAgIGNhcmRTZWxlY3RvcixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgIGhhbmRsZUxpa2VDbGlja1xuICApIHtcbiAgICB0aGlzLl9kYXRhID0ge1xuICAgICAgbmFtZTogZGF0YS5uYW1lLFxuICAgICAgbGluazogZGF0YS5saW5rLFxuICAgICAgaWQ6IGRhdGEuX2lkLFxuICAgICAgaXNMaWtlZDogZGF0YS5pc0xpa2VkLFxuICAgIH07XG4gICAgdGhpcy5faGFuZGxlSW1hZ2VDbGljayA9IGhhbmRsZUltYWdlQ2xpY2s7XG4gICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sgPSBoYW5kbGVEZWxldGVDbGljaztcbiAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sgPSBoYW5kbGVMaWtlQ2xpY2s7XG4gICAgdGhpcy5fY2FyZFNlbGVjdG9yID0gY2FyZFNlbGVjdG9yO1xuICB9XG5cbiAgX3NldEV2ZW50TGlzdGVuZXJzKCkge1xuICAgIHRoaXMuX2xpa2VJY29uLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVMaWtlQ2xpY2sodGhpcy5fbGlrZUljb24sIHRoaXMuX2RhdGEuaXNMaWtlZCwgdGhpcy5fZGF0YS5pZCk7XG4gICAgICB0aGlzLl9kYXRhLmlzTGlrZWQgPSAhdGhpcy5fZGF0YS5pc0xpa2VkO1xuICAgIH0pO1xuICAgIHRoaXMuX2RlbGV0ZUJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5faGFuZGxlRGVsZXRlQ2xpY2sodGhpcy5fZGF0YS5pZCwgdGhpcy5fY2FyZEVsZW1lbnQpO1xuICAgIH0pO1xuICAgIHRoaXMuX2NhcmRJbWFnZUVsLmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoKSA9PiB7XG4gICAgICB0aGlzLl9oYW5kbGVJbWFnZUNsaWNrKHRoaXMuX2RhdGEpO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0VmlldygpIHtcbiAgICB0aGlzLl9jYXJkRWxlbWVudCA9IGRvY3VtZW50XG4gICAgICAucXVlcnlTZWxlY3Rvcih0aGlzLl9jYXJkU2VsZWN0b3IpXG4gICAgICAuY29udGVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRcIilcbiAgICAgIC5jbG9uZU5vZGUodHJ1ZSk7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwgPSB0aGlzLl9jYXJkRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLmNhcmRfX2ltYWdlXCIpO1xuICAgIHRoaXMuX2NhcmRUaXRsZUVsID0gdGhpcy5fY2FyZEVsZW1lbnQucXVlcnlTZWxlY3RvcihcIi5jYXJkX190aXRsZVwiKTtcbiAgICB0aGlzLl9jYXJkVGl0bGVFbC50ZXh0Q29udGVudCA9IHRoaXMuX2RhdGEubmFtZTtcbiAgICB0aGlzLl9jYXJkSW1hZ2VFbC5zcmMgPSB0aGlzLl9kYXRhLmxpbms7XG4gICAgdGhpcy5fY2FyZEltYWdlRWwuYWx0ID0gXCJQaG90byBvZiBcIiArIHRoaXMuX2RhdGEubmFtZTtcbiAgICB0aGlzLl9saWtlSWNvbiA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fcmVhY3QtYnV0dG9uXCIpO1xuICAgIHRoaXMuX2RlbGV0ZUJ0biA9IHRoaXMuX2NhcmRFbGVtZW50LnF1ZXJ5U2VsZWN0b3IoXCIuY2FyZF9fZGVsZXRlLWJ1dHRvblwiKTtcblxuICAgIGlmICh0aGlzLl9kYXRhLmlzTGlrZWQpIHtcbiAgICAgIHRoaXMuX2xpa2VJY29uLmNsYXNzTGlzdC5hZGQoXCJjYXJkX19yZWFjdC1idXR0b25fYWN0aXZlXCIpO1xuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLl9saWtlSWNvbi5jbGFzc0xpc3QucmVtb3ZlKFwiY2FyZF9fcmVhY3QtYnV0dG9uX2FjdGl2ZVwiKTtcbiAgICB9XG5cbiAgICB0aGlzLl9zZXRFdmVudExpc3RlbmVycygpO1xuICAgIHJldHVybiB0aGlzLl9jYXJkRWxlbWVudDtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgRm9ybVZhbGlkYXRvciB7XG4gIGNvbnN0cnVjdG9yKHNldHRpbmdzLCBmb3JtRWwpIHtcbiAgICB0aGlzLl9pbnB1dFNlbGVjdG9yID0gc2V0dGluZ3MuaW5wdXRTZWxlY3RvcjtcbiAgICB0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3RvciA9IHNldHRpbmdzLnN1Ym1pdEJ1dHRvblNlbGVjdG9yO1xuICAgIHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MgPSBzZXR0aW5ncy5pbmFjdGl2ZUJ1dHRvbkNsYXNzO1xuICAgIHRoaXMuX2lucHV0RXJyb3JDbGFzcyA9IHNldHRpbmdzLmlucHV0RXJyb3JDbGFzcztcbiAgICB0aGlzLl9lcnJvckNsYXNzID0gc2V0dGluZ3MuZXJyb3JDbGFzcztcbiAgICB0aGlzLl9mb3JtID0gZm9ybUVsO1xuICB9XG4gIF9zaG93SW5wdXRFcnJvcihpbnB1dEVsKSB7XG4gICAgY29uc3QgZXJyb3JNZXNzYWdlRWwgPSB0aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3IoYCMke2lucHV0RWwuaWR9LWVycm9yYCk7XG4gICAgaW5wdXRFbC5jbGFzc0xpc3QuYWRkKHRoaXMuX2lucHV0RXJyb3JDbGFzcyk7XG4gICAgZXJyb3JNZXNzYWdlRWwudGV4dENvbnRlbnQgPSBpbnB1dEVsLnZhbGlkYXRpb25NZXNzYWdlO1xuICAgIGVycm9yTWVzc2FnZUVsLmNsYXNzTGlzdC5hZGQodGhpcy5fZXJyb3JDbGFzcyk7XG4gIH1cblxuICBfaGlkZUlucHV0RXJyb3IoaW5wdXRFbCkge1xuICAgIGNvbnN0IGVycm9yTWVzc2FnZUVsID0gdGhpcy5fZm9ybS5xdWVyeVNlbGVjdG9yKGAjJHtpbnB1dEVsLmlkfS1lcnJvcmApO1xuICAgIGlucHV0RWwuY2xhc3NMaXN0LnJlbW92ZSh0aGlzLl9pbnB1dEVycm9yQ2xhc3MpO1xuICAgIGVycm9yTWVzc2FnZUVsLnRleHRDb250ZW50ID0gXCJcIjtcbiAgICBlcnJvck1lc3NhZ2VFbC5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2Vycm9yQ2xhc3MpO1xuICB9XG5cbiAgX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKSB7XG4gICAgaWYgKCFpbnB1dEVsLnZhbGlkaXR5LnZhbGlkKSB7XG4gICAgICByZXR1cm4gdGhpcy5fc2hvd0lucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfVxuICAgIHRoaXMuX2hpZGVJbnB1dEVycm9yKGlucHV0RWwpO1xuICB9XG5cbiAgX2hhc0ludmFsaWRJbnB1dChpbnB1dExpc3QpIHtcbiAgICByZXR1cm4gIWlucHV0TGlzdC5ldmVyeSgoaW5wdXRFbCkgPT4gaW5wdXRFbC52YWxpZGl0eS52YWxpZCk7XG4gIH1cblxuICBfZW5hYmxlQnV0dG9uKCkge1xuICAgIHRoaXMuX3N1Ym1pdEJ0bi5jbGFzc0xpc3QucmVtb3ZlKHRoaXMuX2luYWN0aXZlQnV0dG9uQ2xhc3MpO1xuICAgIHRoaXMuX3N1Ym1pdEJ0bi5kaXNhYmxlZCA9IGZhbHNlO1xuICB9XG5cbiAgZGlzYWJsZUJ1dHRvbigpIHtcbiAgICB0aGlzLl9zdWJtaXRCdG4uY2xhc3NMaXN0LmFkZCh0aGlzLl9pbmFjdGl2ZUJ1dHRvbkNsYXNzKTtcbiAgICB0aGlzLl9zdWJtaXRCdG4uZGlzYWJsZWQgPSB0cnVlO1xuICB9XG5cbiAgX3RvZ2dsZUJ1dHRvblN0YXRlKCkge1xuICAgIGlmICh0aGlzLl9oYXNJbnZhbGlkSW5wdXQodGhpcy5faW5wdXRFbHMpKSB7XG4gICAgICB0aGlzLmRpc2FibGVCdXR0b24oKTtcbiAgICAgIHJldHVybjtcbiAgICB9XG4gICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XG4gIH1cblxuICByZXNldFZhbGlkYXRpb24oKSB7XG4gICAgdGhpcy5faW5wdXRFbHMuZm9yRWFjaCgoaW5wdXRFbCkgPT4ge1xuICAgICAgdGhpcy5faGlkZUlucHV0RXJyb3IoaW5wdXRFbCk7XG4gICAgfSk7XG4gICAgdGhpcy5fZW5hYmxlQnV0dG9uKCk7XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9pbnB1dEVscyA9IFsuLi50aGlzLl9mb3JtLnF1ZXJ5U2VsZWN0b3JBbGwodGhpcy5faW5wdXRTZWxlY3RvcildO1xuICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX2Zvcm0ucXVlcnlTZWxlY3Rvcih0aGlzLl9zdWJtaXRCdXR0b25TZWxlY3Rvcik7XG5cbiAgICB0aGlzLl9pbnB1dEVscy5mb3JFYWNoKChpbnB1dEVsKSA9PiB7XG4gICAgICBpbnB1dEVsLmFkZEV2ZW50TGlzdGVuZXIoXCJpbnB1dFwiLCAoKSA9PiB7XG4gICAgICAgIHRoaXMuX2NoZWNrSW5wdXRWYWxpZGl0eShpbnB1dEVsKTtcbiAgICAgICAgdGhpcy5fdG9nZ2xlQnV0dG9uU3RhdGUoKTtcbiAgICAgIH0pO1xuICAgIH0pO1xuICB9XG5cbiAgZW5hYmxlVmFsaWRhdGlvbigpIHtcbiAgICB0aGlzLl9mb3JtLmFkZEV2ZW50TGlzdGVuZXIoXCJzdWJtaXRcIiwgKGUpID0+IHtcbiAgICAgIGUucHJldmVudERlZmF1bHQoZSk7XG4gICAgfSk7XG4gICAgdGhpcy5zZXRFdmVudExpc3RlbmVycygpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBTZWN0aW9uIHtcbiAgY29uc3RydWN0b3IoeyBpdGVtcywgcmVuZGVyZXIgfSwgY29udGFpbmVyU2VsZWN0b3IpIHtcbiAgICB0aGlzLl9pdGVtcyA9IGl0ZW1zOyAvL2RhdGFcbiAgICB0aGlzLl9yZW5kZXJlciA9IHJlbmRlcmVyOyAvL2Z1bmN0aW9uXG4gICAgdGhpcy5fY29udGFpbmVyID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihjb250YWluZXJTZWxlY3Rvcik7XG4gIH1cblxuICByZW5kZXJJdGVtcygpIHtcbiAgICB0aGlzLl9pdGVtcy5mb3JFYWNoKChpdGVtKSA9PiB7XG4gICAgICBjb25zdCBlbGVtZW50ID0gdGhpcy5fcmVuZGVyZXIoaXRlbSk7XG4gICAgICB0aGlzLmFkZEl0ZW0oZWxlbWVudCk7XG4gICAgfSk7XG4gIH1cblxuICBhZGRJdGVtKGVsZW1lbnQpIHtcbiAgICB0aGlzLl9jb250YWluZXIucHJlcGVuZChlbGVtZW50KTtcbiAgfVxufVxuIiwiZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXAge1xuICBjb25zdHJ1Y3Rvcihwb3B1cFNlbGVjdG9yKSB7XG4gICAgdGhpcy5fcG9wdXBFbGVtZW50ID0gZG9jdW1lbnQucXVlcnlTZWxlY3Rvcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9oYW5kbGVFc2NDbG9zZSA9IHRoaXMuX2hhbmRsZUVzY0Nsb3NlLmJpbmQodGhpcyk7XG4gICAgdGhpcy5fY2xvc2VCdXR0b24gPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX19jbG9zZS1idXR0b25cIlxuICAgICk7XG4gIH1cblxuICBvcGVuKCkge1xuICAgIHRoaXMuX3BvcHVwRWxlbWVudC5jbGFzc0xpc3QuYWRkKFwibW9kYWxfb3BlblwiKTtcbiAgICBkb2N1bWVudC5hZGRFdmVudExpc3RlbmVyKFwia2V5ZG93blwiLCB0aGlzLl9oYW5kbGVFc2NDbG9zZSk7XG4gIH1cblxuICBjbG9zZSgpIHtcbiAgICB0aGlzLl9wb3B1cEVsZW1lbnQuY2xhc3NMaXN0LnJlbW92ZShcIm1vZGFsX29wZW5cIik7XG4gICAgZG9jdW1lbnQucmVtb3ZlRXZlbnRMaXN0ZW5lcihcImtleWRvd25cIiwgdGhpcy5faGFuZGxlRXNjQ2xvc2UpO1xuICB9XG5cbiAgX2hhbmRsZUVzY0Nsb3NlKGUpIHtcbiAgICBpZiAoZS5rZXkgPT09IFwiRXNjYXBlXCIpIHtcbiAgICAgIHRoaXMuY2xvc2UoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICB0aGlzLl9jbG9zZUJ1dHRvbi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICAgICAgdGhpcy5jbG9zZSgpO1xuICAgIH0pO1xuXG4gICAgdGhpcy5fcG9wdXBFbGVtZW50LmFkZEV2ZW50TGlzdGVuZXIoXCJjbGlja1wiLCAoZSkgPT4ge1xuICAgICAgaWYgKGUudGFyZ2V0ID09PSB0aGlzLl9wb3B1cEVsZW1lbnQpIHtcbiAgICAgICAgdGhpcy5jbG9zZSgpO1xuICAgICAgfVxuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoRm9ybSBleHRlbmRzIFBvcHVwIHtcbiAgY29uc3RydWN0b3IocG9wdXBTZWxlY3RvciwgaGFuZGxlRm9ybVN1Ym1pdCkge1xuICAgIHN1cGVyKHBvcHVwU2VsZWN0b3IpO1xuICAgIHRoaXMuX3BvcHVwRm9ybSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19mb3JtXCIpO1xuICAgIHRoaXMuX2hhbmRsZUZvcm1TdWJtaXQgPSBoYW5kbGVGb3JtU3VibWl0O1xuICAgIHRoaXMuX2lucHV0TGlzdCA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yQWxsKFwiLm1vZGFsX19mb3JtLWlucHV0XCIpO1xuICAgIHRoaXMuX3N1Ym1pdEJ0biA9IHRoaXMuX3BvcHVwRm9ybS5xdWVyeVNlbGVjdG9yKFwiLm1vZGFsX19zYXZlLWJ1dHRvblwiKTtcbiAgfVxuXG4gIF9nZXRJbnB1dFZhbHVlcygpIHtcbiAgICB0aGlzLl9mb3JtVmFsdWVzID0ge307XG4gICAgdGhpcy5faW5wdXRMaXN0LmZvckVhY2goKGlucHV0KSA9PiB7XG4gICAgICB0aGlzLl9mb3JtVmFsdWVzW2lucHV0Lm5hbWVdID0gaW5wdXQudmFsdWU7XG4gICAgfSk7XG4gICAgcmV0dXJuIHRoaXMuX2Zvcm1WYWx1ZXM7XG4gIH1cblxuICByZXNldCgpIHtcbiAgICBpZiAodGhpcy5fcG9wdXBGb3JtKSB7XG4gICAgICB0aGlzLl9wb3B1cEZvcm0ucmVzZXQoKTtcbiAgICB9XG4gIH1cblxuICBzZXRFdmVudExpc3RlbmVycygpIHtcbiAgICBzdXBlci5zZXRFdmVudExpc3RlbmVycygpO1xuICAgIGlmICh0aGlzLl9wb3B1cEZvcm0pIHtcbiAgICAgIHRoaXMuX3BvcHVwRm9ybS5hZGRFdmVudExpc3RlbmVyKFwic3VibWl0XCIsIChlKSA9PiB7XG4gICAgICAgIGUucHJldmVudERlZmF1bHQoKTtcbiAgICAgICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCh0aGlzLl9nZXRJbnB1dFZhbHVlcygpKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIG9wZW4oKSB7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG5cbiAgc2V0U3VibWl0SGFuZGxlcihuZXdTdWJtaXRIYW5kbGVyKSB7XG4gICAgdGhpcy5faGFuZGxlRm9ybVN1Ym1pdCA9IG5ld1N1Ym1pdEhhbmRsZXI7XG4gIH1cblxuICBzZXRMb2FkaW5nKGlzTG9hZGluZywgbG9hZGluZ1RleHQgPSBcIlNhdmluZy4uLlwiLCBkZWZhdWx0VGV4dCA9IFwiU2F2ZVwiKSB7XG4gICAgaWYgKHRoaXMuX3N1Ym1pdEJ0bikge1xuICAgICAgaWYgKGlzTG9hZGluZykge1xuICAgICAgICB0aGlzLl9zdWJtaXRCdG4udGV4dENvbnRlbnQgPSBsb2FkaW5nVGV4dDtcbiAgICAgICAgdGhpcy5fc3VibWl0QnRuLnNldEF0dHJpYnV0ZShcImRpc2FibGVkXCIsIHRydWUpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgdGhpcy5fc3VibWl0QnRuLnRleHRDb250ZW50ID0gZGVmYXVsdFRleHQ7XG4gICAgICAgIHRoaXMuX3N1Ym1pdEJ0bi5yZW1vdmVBdHRyaWJ1dGUoXCJkaXNhYmxlZFwiKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cbn1cbiIsIi8qIEZvcm0gVmFsaWRhdGlvbiBTZXR0aW5ncyAmIFZhciAqL1xuZXhwb3J0IGNvbnN0IHNldHRpbmdzID0ge1xuICBmb3JtU2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtXCIsXG4gIGlucHV0U2VsZWN0b3I6IFwiLm1vZGFsX19mb3JtLWlucHV0XCIsXG4gIHN1Ym1pdEJ1dHRvblNlbGVjdG9yOiBcIi5tb2RhbF9fc2F2ZS1idXR0b25cIixcbiAgaW5hY3RpdmVCdXR0b25DbGFzczogXCJtb2RhbF9fc2F2ZS1idXR0b24tZGlzYWJsZWRcIixcbiAgaW5wdXRFcnJvckNsYXNzOiBcIm1vZGFsX19mb3JtX2lucHV0X3R5cGVfZXJyb3JcIixcbiAgZXJyb3JDbGFzczogXCJtb2RhbF9fZm9ybS1pbnB1dC1lcnJvci12aXNpYmxlXCIsXG59O1xuXG5leHBvcnQgY29uc3QgZWxlbWVudHMgPSB7XG4gIHByb2ZpbGVFZGl0QnRuOiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZWRpdC1idG5cIiksXG4gIHByb2ZpbGVUaXRsZUlucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtdGl0bGUtaW5wdXRcIiksXG4gIHByb2ZpbGVFZGl0Rm9ybTogZG9jdW1lbnQuZm9ybXNbXCJwcm9maWxlLWZvcm1cIl0sXG4gIHByb2ZpbGVEZXNjcmlwdGlvbklucHV0OiBkb2N1bWVudC5xdWVyeVNlbGVjdG9yKFwiI3Byb2ZpbGUtZGVzY3JpcHRpb24taW5wdXRcIiksXG4gIHBsYWNlc0FkZEJ0bjogZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIiNwbGFjZXMtYWRkLWJ0blwiKSxcbiAgcGxhY2VBZGRGb3JtOiBkb2N1bWVudC5mb3Jtc1tcImFkZC1wbGFjZS1mb3JtXCJdLFxuICBhdmF0YXJVcGRhdGVCdG46IGRvY3VtZW50LnF1ZXJ5U2VsZWN0b3IoXCIjYXZhdGFyLXNhdmUtYnRuXCIpLFxuICBhdmF0YXJGb3JtOiBkb2N1bWVudC5mb3Jtc1tcInVwZGF0ZS1hdmF0YXItZm9ybVwiXSxcbn07XG4iLCJpbXBvcnQgXCIuL2luZGV4LmNzc1wiO1xuaW1wb3J0IENhcmQgZnJvbSBcIi4uL2NvbXBvbmVudHMvQ2FyZC5qc1wiO1xuaW1wb3J0IEZvcm1WYWxpZGF0b3IgZnJvbSBcIi4uL2NvbXBvbmVudHMvRm9ybVZhbGlkYXRvci5qc1wiO1xuaW1wb3J0IFNlY3Rpb24gZnJvbSBcIi4uL2NvbXBvbmVudHMvU2VjdGlvbi5qc1wiO1xuaW1wb3J0IFBvcHVwV2l0aEltYWdlIGZyb20gXCIuLi9jb21wb25lbnRzL1BvcHVwV2l0aEltYWdlLmpzXCI7XG5pbXBvcnQgUG9wdXBXaXRoRm9ybSBmcm9tIFwiLi4vY29tcG9uZW50cy9Qb3B1cFdpdGhGb3JtLmpzXCI7XG5pbXBvcnQgVXNlckluZm8gZnJvbSBcIi4uL2NvbXBvbmVudHMvVXNlckluZm8uanNcIjtcbmltcG9ydCB7IHNldHRpbmdzLCBlbGVtZW50cyB9IGZyb20gXCIuLi91dGlscy9jb25zdGFudHMuanNcIjtcbmltcG9ydCBBcGkgZnJvbSBcIi4uL2NvbXBvbmVudHMvQXBpLmpzXCI7XG5cbi8qIFV0aWxzIEVsZW1lbnRzICovXG5jb25zdCB7XG4gIHByb2ZpbGVFZGl0QnRuLFxuICBwcm9maWxlVGl0bGVJbnB1dCxcbiAgcHJvZmlsZUVkaXRGb3JtLFxuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dCxcbiAgcGxhY2VzQWRkQnRuLFxuICBwbGFjZUFkZEZvcm0sXG4gIGF2YXRhclVwZGF0ZUJ0bixcbiAgYXZhdGFyRm9ybSxcbn0gPSBlbGVtZW50cztcblxuLyogQVBJIFZhciAqL1xuY29uc3QgYXBpID0gbmV3IEFwaSh7XG4gIGJhc2VVcmw6IFwiaHR0cHM6Ly9hcm91bmQtYXBpLmVuLnRyaXBsZXRlbi1zZXJ2aWNlcy5jb20vdjFcIixcbiAgaGVhZGVyczoge1xuICAgIGF1dGhvcml6YXRpb246IFwiODZhZDYyNmEtNDg4ZS00NTA1LTkyNmYtMDQ5MTMwNjJhYTE5XCIsXG4gICAgXCJjb250ZW50LXR5cGVcIjogXCJhcHBsaWNhdGlvbi9qc29uXCIsXG4gIH0sXG59KTtcblxuLyogSW1hZ2UgQ2xpY2sgUHJldmlldyBGdW5jdGlvbiAqL1xuZnVuY3Rpb24gaGFuZGxlSW1hZ2VDbGljayhpbWFnZURhdGEpIHtcbiAgaW1hZ2VQcmV2aWV3TW9kYWwub3BlbihpbWFnZURhdGEpO1xufVxuXG4vKiBWYWxpZGF0aW9uICovXG5jb25zdCBwcm9maWxlRWRpdFZhbGlkYXRpb24gPSBuZXcgRm9ybVZhbGlkYXRvcihzZXR0aW5ncywgcHJvZmlsZUVkaXRGb3JtKTtcbmNvbnN0IGFkZFBsYWNlVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBwbGFjZUFkZEZvcm0pO1xuY29uc3QgYXZhdGFyVmFsaWRhdGlvbiA9IG5ldyBGb3JtVmFsaWRhdG9yKHNldHRpbmdzLCBhdmF0YXJGb3JtKTtcblxuLyogTW9kYWxzICovXG5jb25zdCBlZGl0UHJvZmlsZU1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI3Byb2ZpbGUtZWRpdC1tb2RhbFwiLFxuICBoYW5kbGVQcm9maWxlRWRpdFN1Ym1pdFxuKTtcbmNvbnN0IGFkZFBsYWNlTW9kYWwgPSBuZXcgUG9wdXBXaXRoRm9ybShcbiAgXCIjcGxhY2VzLWFkZC1tb2RhbFwiLFxuICBoYW5kbGVOZXdQbGFjZVN1Ym1pdFxuKTtcbmNvbnN0IHVwZGF0ZUF2YXRhck1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXG4gIFwiI2F2YXRhci11cGRhdGUtbW9kYWxcIixcbiAgaGFuZGxlQXZhdGFyU3VibWl0XG4pO1xuY29uc3QgaW1hZ2VQcmV2aWV3TW9kYWwgPSBuZXcgUG9wdXBXaXRoSW1hZ2UoXCIjcGxhY2VzLXByZXZpZXctbW9kYWxcIik7XG5jb25zdCBkZWxldGVQbGFjZU1vZGFsID0gbmV3IFBvcHVwV2l0aEZvcm0oXCIjcGxhY2VzLWRlbGV0ZS1tb2RhbFwiLCAoKSA9PiB7fSk7XG5cbi8qIEV2ZW50IExpc3RlbmVycyAqL1xuZWRpdFByb2ZpbGVNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuaW1hZ2VQcmV2aWV3TW9kYWwuc2V0RXZlbnRMaXN0ZW5lcnMoKTtcbnVwZGF0ZUF2YXRhck1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5hZGRQbGFjZU1vZGFsLnNldEV2ZW50TGlzdGVuZXJzKCk7XG5cbi8qIEZvcm0gVmFsaWRhdGlvbiAqL1xuZGVsZXRlUGxhY2VNb2RhbC5zZXRFdmVudExpc3RlbmVycygpO1xuYXZhdGFyVmFsaWRhdGlvbi5lbmFibGVWYWxpZGF0aW9uKCk7XG5wcm9maWxlRWRpdFZhbGlkYXRpb24uZW5hYmxlVmFsaWRhdGlvbigpO1xuYWRkUGxhY2VWYWxpZGF0aW9uLmVuYWJsZVZhbGlkYXRpb24oKTtcblxuLyogREVMRVRFIFBsYWNlIEZ1bmN0aW9uICovXG5mdW5jdGlvbiBoYW5kbGVEZWxldGVDbGljayhjYXJkSUQsIGNhcmRFbGVtZW50KSB7XG4gIGRlbGV0ZVBsYWNlTW9kYWwuc2V0U3VibWl0SGFuZGxlcigoKSA9PiB7XG4gICAgZGVsZXRlUGxhY2VNb2RhbC5zZXRMb2FkaW5nKHRydWUsIFwiUmVtb3ZpbmcuLi5cIiwgXCJZZXNcIik7XG4gICAgYXBpXG4gICAgICAucmVtb3ZlUGxhY2UoY2FyZElEKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBjYXJkRWxlbWVudC5yZW1vdmUoKTtcbiAgICAgICAgZGVsZXRlUGxhY2VNb2RhbC5jbG9zZSgpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyKSA9PiB7XG4gICAgICAgIGNvbnNvbGUuZXJyb3IoXCJFcnJvciBkZWxldGluZyBwbGFjZTpcIiwgZXJyKTtcbiAgICAgIH0pXG4gICAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICAgIGRlbGV0ZVBsYWNlTW9kYWwuc2V0TG9hZGluZyhmYWxzZSwgXCJSZW1vdmluZy4uLlwiLCBcIlllc1wiKTtcbiAgICAgIH0pO1xuICB9KTtcbiAgZGVsZXRlUGxhY2VNb2RhbC5vcGVuKCk7XG59XG5cbi8qIENyZWF0ZSBDYXJkcyAqL1xuZnVuY3Rpb24gZ2V0Q2FyZEVsZW1lbnQoY2FyZERhdGEpIHtcbiAgY29uc3QgY2FyZCA9IG5ldyBDYXJkKFxuICAgIGNhcmREYXRhLFxuICAgIFwiI2NhcmQtdGVtcGxhdGVcIixcbiAgICBoYW5kbGVJbWFnZUNsaWNrLFxuICAgIGhhbmRsZURlbGV0ZUNsaWNrLFxuICAgIGhhbmRsZUxpa2VSZWFjdFxuICApO1xuICByZXR1cm4gY2FyZC5nZXRWaWV3KCk7XG59XG5cbi8qIEdFVCBDYXJkcyAqL1xubGV0IHNlY3Rpb247XG5hcGlcbiAgLmdldEluaXRpYWxDYXJkcygpXG4gIC50aGVuKChpdGVtcykgPT4ge1xuICAgIHNlY3Rpb24gPSBuZXcgU2VjdGlvbihcbiAgICAgIHtcbiAgICAgICAgaXRlbXM6IGl0ZW1zLFxuICAgICAgICByZW5kZXJlcjogKGNhcmREYXRhKSA9PiB7XG4gICAgICAgICAgY29uc3QgY2FyZEVsZW1lbnQgPSBnZXRDYXJkRWxlbWVudChjYXJkRGF0YSk7XG4gICAgICAgICAgcmV0dXJuIGNhcmRFbGVtZW50O1xuICAgICAgICB9LFxuICAgICAgfSxcbiAgICAgIFwiLmNhcmRzX19saXN0XCJcbiAgICApO1xuICAgIHNlY3Rpb24ucmVuZGVySXRlbXMoKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG5cbi8qIEdFVCBQcm9maWxlICovXG5jb25zdCB1c2VySW5mbyA9IG5ldyBVc2VySW5mbygpO1xuYXBpXG4gIC5nZXRVc2VySW5mbygpXG4gIC50aGVuKChwcm9maWxlRGF0YSkgPT4ge1xuICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHByb2ZpbGVEYXRhKTtcbiAgfSlcbiAgLmNhdGNoKChlcnIpID0+IGNvbnNvbGUuZXJyb3IoZXJyKSk7XG5cbi8qIFBBVENIIFByb2ZpbGUgRWRpdCBGdW5jdGlvbiAqL1xuZnVuY3Rpb24gaGFuZGxlUHJvZmlsZUVkaXRTdWJtaXQocHJvZmlsZUlucHV0VmFsdWVzKSB7XG4gIGVkaXRQcm9maWxlTW9kYWwuc2V0TG9hZGluZyh0cnVlKTtcblxuICBjb25zdCB1c2VyRGF0YSA9IHtcbiAgICBuYW1lOiBwcm9maWxlSW5wdXRWYWx1ZXMudGl0bGUsXG4gICAgYWJvdXQ6IHByb2ZpbGVJbnB1dFZhbHVlcy5kZXNjcmlwdGlvbixcbiAgfTtcblxuICBhcGlcbiAgICAuZWRpdFVzZXJJbmZvKHVzZXJEYXRhLm5hbWUsIHVzZXJEYXRhLmFib3V0KVxuICAgIC50aGVuKCh1cGRhdGVkVXNlckRhdGEpID0+IHtcbiAgICAgIHVzZXJJbmZvLnNldFVzZXJJbmZvKHVwZGF0ZWRVc2VyRGF0YSk7XG4gICAgICBlZGl0UHJvZmlsZU1vZGFsLmNsb3NlKCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIHVzZXIgaW5mbzpcIiwgZXJyKTtcbiAgICB9KVxuICAgIC5maW5hbGx5KCgpID0+IHtcbiAgICAgIGVkaXRQcm9maWxlTW9kYWwuc2V0TG9hZGluZyhmYWxzZSk7XG4gICAgfSk7XG59XG5cbi8qIFBBVENIIFByb2ZpbGUgQXZhdGFyIEZ1bmN0aW9uICovXG5mdW5jdGlvbiBoYW5kbGVBdmF0YXJTdWJtaXQoeyB1cmwgfSkge1xuICB1cGRhdGVBdmF0YXJNb2RhbC5zZXRMb2FkaW5nKHRydWUpO1xuXG4gIGFwaVxuICAgIC51cGRhdGVBdmF0YXIodXJsKVxuICAgIC50aGVuKChyZXMpID0+IHtcbiAgICAgIHVzZXJJbmZvLnVwZGF0ZUF2YXRhcih1cmwpO1xuICAgICAgdXBkYXRlQXZhdGFyTW9kYWwucmVzZXQoKTtcbiAgICAgIHVwZGF0ZUF2YXRhck1vZGFsLmNsb3NlKCk7XG4gICAgICBjb25zb2xlLmxvZyhcIlN1Y2Nlc3M6XCIsIHJlcyk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIHVwZGF0aW5nIHByb2ZpbGUgYXZhdGFyOlwiLCBlcnIpO1xuICAgIH0pXG4gICAgLmZpbmFsbHkoKCkgPT4ge1xuICAgICAgdXBkYXRlQXZhdGFyTW9kYWwuc2V0TG9hZGluZyh0cnVlLCBcIlNhdmVcIik7XG4gICAgfSk7XG59XG5cbi8qIFBPU1QgQWRkIFBsYWNlIEZ1bmN0aW9uICovXG5mdW5jdGlvbiBoYW5kbGVOZXdQbGFjZVN1Ym1pdChwbGFjZUNhcmREYXRhKSB7XG4gIGFkZFBsYWNlTW9kYWwuc2V0TG9hZGluZyh0cnVlKTtcbiAgY29uc3QgY2FyZERhdGEgPSB7XG4gICAgbmFtZTogcGxhY2VDYXJkRGF0YS50aXRsZSxcbiAgICBsaW5rOiBwbGFjZUNhcmREYXRhLnVybCxcbiAgfTtcblxuICBhcGlcbiAgICAuYWRkTmV3UGxhY2UoY2FyZERhdGEubmFtZSwgY2FyZERhdGEubGluaylcbiAgICAudGhlbigobmV3UGxhY2VDYXJkKSA9PiB7XG4gICAgICBjb25zdCBjYXJkRWxlbWVudCA9IGdldENhcmRFbGVtZW50KHtcbiAgICAgICAgbmFtZTogbmV3UGxhY2VDYXJkLm5hbWUsXG4gICAgICAgIGxpbms6IG5ld1BsYWNlQ2FyZC5saW5rLFxuICAgICAgICBfaWQ6IG5ld1BsYWNlQ2FyZC5faWQsXG4gICAgICB9KTtcbiAgICAgIHNlY3Rpb24uYWRkSXRlbShjYXJkRWxlbWVudCk7XG4gICAgICBhZGRQbGFjZU1vZGFsLmNsb3NlKCk7XG4gICAgICBhZGRQbGFjZU1vZGFsLnJlc2V0KCk7XG4gICAgfSlcbiAgICAuY2F0Y2goKGVycikgPT4ge1xuICAgICAgY29uc29sZS5lcnJvcihcIkVycm9yIGFkZGluZyBuZXcgcGxhY2U6XCIsIGVycik7XG4gICAgfSlcbiAgICAuZmluYWxseSgoKSA9PiB7XG4gICAgICBhZGRQbGFjZU1vZGFsLnNldExvYWRpbmcoZmFsc2UpO1xuICAgICAgYWRkUGxhY2VWYWxpZGF0aW9uLmRpc2FibGVCdXR0b24oKTtcbiAgICB9KTtcbn1cblxuLyogUFVUIEFkZCBMaWtlIFJlYWN0ICovXG5mdW5jdGlvbiBoYW5kbGVMaWtlUmVhY3QobGlrZVJlYWN0LCBsaWtlU3RhdHVzLCBjYXJkSWQpIHtcbiAgaWYgKGxpa2VTdGF0dXMpIHtcbiAgICBhcGlcbiAgICAgIC5yZW1vdmVMaWtlUmVhY3QoY2FyZElkKVxuICAgICAgLnRoZW4oKCkgPT4ge1xuICAgICAgICBsaWtlUmVhY3QuY2xhc3NMaXN0LnJlbW92ZShcImNhcmRfX3JlYWN0LWJ1dHRvbl9hY3RpdmVcIik7XG4gICAgICB9KVxuICAgICAgLmNhdGNoKChlcnJvcikgPT4gY29uc29sZS5lcnJvcihcIkVycm9yIHJlbW92aW5nIGxpa2UgcmVhY3Rpb246XCIsIGVycm9yKSk7XG4gIH0gZWxzZSB7XG4gICAgYXBpXG4gICAgICAuYWRkTGlrZVJlYWN0KGNhcmRJZClcbiAgICAgIC50aGVuKCgpID0+IHtcbiAgICAgICAgbGlrZVJlYWN0LmNsYXNzTGlzdC5hZGQoXCJjYXJkX19yZWFjdC1idXR0b25fYWN0aXZlXCIpO1xuICAgICAgfSlcbiAgICAgIC5jYXRjaCgoZXJyb3IpID0+IGNvbnNvbGUuZXJyb3IoXCJFcnJvciBhZGRpbmcgbGlrZSByZWFjdGlvbjpcIiwgZXJyb3IpKTtcbiAgfVxufVxuXG4vKiBFZGl0IFByb2ZpbGUgQnV0dG9uIExpc3RlbmVyICovXG5wcm9maWxlRWRpdEJ0bi5hZGRFdmVudExpc3RlbmVyKFwiY2xpY2tcIiwgKCkgPT4ge1xuICBjb25zdCB7IG5hbWUsIGpvYiB9ID0gdXNlckluZm8uZ2V0VXNlckluZm8oKTtcbiAgcHJvZmlsZVRpdGxlSW5wdXQudmFsdWUgPSBuYW1lO1xuICBwcm9maWxlRGVzY3JpcHRpb25JbnB1dC52YWx1ZSA9IGpvYjtcbiAgZWRpdFByb2ZpbGVNb2RhbC5vcGVuKCk7XG4gIHByb2ZpbGVFZGl0VmFsaWRhdGlvbi5yZXNldFZhbGlkYXRpb24oKTtcbn0pO1xuXG4vKiBBZGQgUGxhY2UgQnV0dG9uIExpc3RlbmVyICovXG5wbGFjZXNBZGRCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgYWRkUGxhY2VNb2RhbC5vcGVuKCk7XG59KTtcblxuLyogUHJvZmlsZSBBdmF0YXIgQnV0dG9uIExpc3RlbmVyICovXG5hdmF0YXJVcGRhdGVCdG4uYWRkRXZlbnRMaXN0ZW5lcihcImNsaWNrXCIsICgpID0+IHtcbiAgdXBkYXRlQXZhdGFyTW9kYWwub3BlbigpO1xufSk7XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBBcGkge1xuICBjb25zdHJ1Y3Rvcih7IGJhc2VVcmwsIGhlYWRlcnMgfSkge1xuICAgIHRoaXMuX2Jhc2VVcmwgPSBiYXNlVXJsO1xuICAgIHRoaXMuX2hlYWRlcnMgPSBoZWFkZXJzO1xuICB9XG5cbiAgZ2V0SW5pdGlhbENhcmRzKCkge1xuICAgIHJldHVybiBmZXRjaChgJHt0aGlzLl9iYXNlVXJsfS9jYXJkc2AsIHtcbiAgICAgIG1ldGhvZDogXCJHRVRcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG5cbiAgZ2V0VXNlckluZm8oKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lYCwge1xuICAgICAgbWV0aG9kOiBcIkdFVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICBlZGl0VXNlckluZm8obmFtZSwgYWJvdXQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vdXNlcnMvbWVgLCB7XG4gICAgICBtZXRob2Q6IFwiUEFUQ0hcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgICBib2R5OiBKU09OLnN0cmluZ2lmeSh7IG5hbWUsIGFib3V0IH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZE5ld1BsYWNlKG5hbWUsIGxpbmspIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHNgLCB7XG4gICAgICBtZXRob2Q6IFwiUE9TVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgbmFtZSwgbGluayB9KSxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVQbGFjZShjYXJkSUQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSUR9YCwge1xuICAgICAgbWV0aG9kOiBcIkRFTEVURVwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICB1cGRhdGVBdmF0YXIoYXZhdGFyKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L3VzZXJzL21lL2F2YXRhcmAsIHtcbiAgICAgIG1ldGhvZDogXCJQQVRDSFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICAgIGJvZHk6IEpTT04uc3RyaW5naWZ5KHsgYXZhdGFyIH0pLFxuICAgIH0pLnRoZW4oKHJlcykgPT4ge1xuICAgICAgaWYgKHJlcy5vaykge1xuICAgICAgICByZXR1cm4gcmVzLmpzb24oKTtcbiAgICAgIH1cbiAgICAgIHJldHVybiBQcm9taXNlLnJlamVjdChgRXJyb3I6ICR7cmVzLnN0YXR1c31gKTtcbiAgICB9KTtcbiAgfVxuXG4gIGFkZExpa2VSZWFjdChjYXJkSWQpIHtcbiAgICByZXR1cm4gZmV0Y2goYCR7dGhpcy5fYmFzZVVybH0vY2FyZHMvJHtjYXJkSWR9L2xpa2VzYCwge1xuICAgICAgbWV0aG9kOiBcIlBVVFwiLFxuICAgICAgaGVhZGVyczogdGhpcy5faGVhZGVycyxcbiAgICB9KS50aGVuKChyZXMpID0+IHtcbiAgICAgIGlmIChyZXMub2spIHtcbiAgICAgICAgcmV0dXJuIHJlcy5qc29uKCk7XG4gICAgICB9XG4gICAgICByZXR1cm4gUHJvbWlzZS5yZWplY3QoYEVycm9yOiAke3Jlcy5zdGF0dXN9YCk7XG4gICAgfSk7XG4gIH1cblxuICByZW1vdmVMaWtlUmVhY3QoY2FyZElkKSB7XG4gICAgcmV0dXJuIGZldGNoKGAke3RoaXMuX2Jhc2VVcmx9L2NhcmRzLyR7Y2FyZElkfS9saWtlc2AsIHtcbiAgICAgIG1ldGhvZDogXCJERUxFVEVcIixcbiAgICAgIGhlYWRlcnM6IHRoaXMuX2hlYWRlcnMsXG4gICAgfSkudGhlbigocmVzKSA9PiB7XG4gICAgICBpZiAocmVzLm9rKSB7XG4gICAgICAgIHJldHVybiByZXMuanNvbigpO1xuICAgICAgfVxuICAgICAgcmV0dXJuIFByb21pc2UucmVqZWN0KGBFcnJvcjogJHtyZXMuc3RhdHVzfWApO1xuICAgIH0pO1xuICB9XG59XG4iLCJpbXBvcnQgUG9wdXAgZnJvbSBcIi4vUG9wdXAuanNcIjtcblxuZXhwb3J0IGRlZmF1bHQgY2xhc3MgUG9wdXBXaXRoSW1hZ2UgZXh0ZW5kcyBQb3B1cCB7XG4gIGNvbnN0cnVjdG9yKHBvcHVwU2VsZWN0b3IpIHtcbiAgICBzdXBlcihwb3B1cFNlbGVjdG9yKTtcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2UgPSB0aGlzLl9wb3B1cEVsZW1lbnQucXVlcnlTZWxlY3RvcihcbiAgICAgIFwiLm1vZGFsX19pbWFnZS1wcmV2aWV3XCJcbiAgICApO1xuICAgIHRoaXMuX3ByZXZpZXdUaXRsZSA9IHRoaXMuX3BvcHVwRWxlbWVudC5xdWVyeVNlbGVjdG9yKFxuICAgICAgXCIubW9kYWxfX2ltYWdlLWNhcHRpb25cIlxuICAgICk7XG4gIH1cblxuICBvcGVuKGltYWdlRGF0YSkge1xuICAgIHRoaXMuX3ByZXZpZXdJbWFnZS5zcmMgPSBpbWFnZURhdGEubGluaztcbiAgICB0aGlzLl9wcmV2aWV3SW1hZ2UuYWx0ID0gaW1hZ2VEYXRhLm5hbWU7XG4gICAgdGhpcy5fcHJldmlld1RpdGxlLnRleHRDb250ZW50ID0gaW1hZ2VEYXRhLm5hbWU7XG4gICAgc3VwZXIub3BlbigpO1xuICB9XG59XG4iLCJleHBvcnQgZGVmYXVsdCBjbGFzcyBVc2VySW5mbyB7XG4gIGNvbnN0cnVjdG9yKCkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX190aXRsZVwiKTtcbiAgICB0aGlzLl9wcm9maWxlSm9iID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19kZXNjcmlwdGlvblwiKTtcbiAgICB0aGlzLl9wcm9maWxlQXZhdGFyID0gZG9jdW1lbnQucXVlcnlTZWxlY3RvcihcIi5wcm9maWxlX19pbWFnZVwiKTtcbiAgfVxuXG4gIHVwZGF0ZUF2YXRhcihpbWFnZSkge1xuICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjID0gaW1hZ2U7XG4gIH1cblxuICBnZXRVc2VySW5mbygpIHtcbiAgICByZXR1cm4ge1xuICAgICAgbmFtZTogdGhpcy5fcHJvZmlsZU5hbWUudGV4dENvbnRlbnQsXG4gICAgICBqb2I6IHRoaXMuX3Byb2ZpbGVKb2IudGV4dENvbnRlbnQsXG4gICAgICBhdmF0YXI6IHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjLFxuICAgIH07XG4gIH1cblxuICBzZXRVc2VySW5mbyh7IG5hbWUsIGFib3V0LCBhdmF0YXIgfSkge1xuICAgIHRoaXMuX3Byb2ZpbGVOYW1lLnRleHRDb250ZW50ID0gbmFtZTtcbiAgICB0aGlzLl9wcm9maWxlSm9iLnRleHRDb250ZW50ID0gYWJvdXQ7XG4gICAgaWYgKGF2YXRhcikge1xuICAgICAgdGhpcy5fcHJvZmlsZUF2YXRhci5zcmMgPSBhdmF0YXI7XG4gICAgICB0aGlzLl9wcm9maWxlQXZhdGFyLmFsdCA9IG5hbWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHRoaXMuX3Byb2ZpbGVBdmF0YXIuc3JjID0gXCIuL2ltYWdlcy9hdmF0YXJfZGVmYXVsdC5wbmdcIjtcbiAgICB9XG4gIH1cbn1cbiJdLCJuYW1lcyI6WyJDYXJkIiwiY29uc3RydWN0b3IiLCJkYXRhIiwiY2FyZFNlbGVjdG9yIiwiaGFuZGxlSW1hZ2VDbGljayIsImhhbmRsZURlbGV0ZUNsaWNrIiwiaGFuZGxlTGlrZUNsaWNrIiwidGhpcyIsIl9kYXRhIiwibmFtZSIsImxpbmsiLCJpZCIsIl9pZCIsImlzTGlrZWQiLCJfaGFuZGxlSW1hZ2VDbGljayIsIl9oYW5kbGVEZWxldGVDbGljayIsIl9oYW5kbGVMaWtlQ2xpY2siLCJfY2FyZFNlbGVjdG9yIiwiX3NldEV2ZW50TGlzdGVuZXJzIiwiX2xpa2VJY29uIiwiYWRkRXZlbnRMaXN0ZW5lciIsIl9kZWxldGVCdG4iLCJfY2FyZEVsZW1lbnQiLCJfY2FyZEltYWdlRWwiLCJnZXRWaWV3IiwiZG9jdW1lbnQiLCJxdWVyeVNlbGVjdG9yIiwiY29udGVudCIsImNsb25lTm9kZSIsIl9jYXJkVGl0bGVFbCIsInRleHRDb250ZW50Iiwic3JjIiwiYWx0IiwiY2xhc3NMaXN0IiwiYWRkIiwicmVtb3ZlIiwiRm9ybVZhbGlkYXRvciIsInNldHRpbmdzIiwiZm9ybUVsIiwiX2lucHV0U2VsZWN0b3IiLCJpbnB1dFNlbGVjdG9yIiwiX3N1Ym1pdEJ1dHRvblNlbGVjdG9yIiwic3VibWl0QnV0dG9uU2VsZWN0b3IiLCJfaW5hY3RpdmVCdXR0b25DbGFzcyIsImluYWN0aXZlQnV0dG9uQ2xhc3MiLCJfaW5wdXRFcnJvckNsYXNzIiwiaW5wdXRFcnJvckNsYXNzIiwiX2Vycm9yQ2xhc3MiLCJlcnJvckNsYXNzIiwiX2Zvcm0iLCJfc2hvd0lucHV0RXJyb3IiLCJpbnB1dEVsIiwiZXJyb3JNZXNzYWdlRWwiLCJ2YWxpZGF0aW9uTWVzc2FnZSIsIl9oaWRlSW5wdXRFcnJvciIsIl9jaGVja0lucHV0VmFsaWRpdHkiLCJ2YWxpZGl0eSIsInZhbGlkIiwiX2hhc0ludmFsaWRJbnB1dCIsImlucHV0TGlzdCIsImV2ZXJ5IiwiX2VuYWJsZUJ1dHRvbiIsIl9zdWJtaXRCdG4iLCJkaXNhYmxlZCIsImRpc2FibGVCdXR0b24iLCJfdG9nZ2xlQnV0dG9uU3RhdGUiLCJfaW5wdXRFbHMiLCJyZXNldFZhbGlkYXRpb24iLCJmb3JFYWNoIiwic2V0RXZlbnRMaXN0ZW5lcnMiLCJxdWVyeVNlbGVjdG9yQWxsIiwiZW5hYmxlVmFsaWRhdGlvbiIsImUiLCJwcmV2ZW50RGVmYXVsdCIsIlNlY3Rpb24iLCJfcmVmIiwiY29udGFpbmVyU2VsZWN0b3IiLCJpdGVtcyIsInJlbmRlcmVyIiwiX2l0ZW1zIiwiX3JlbmRlcmVyIiwiX2NvbnRhaW5lciIsInJlbmRlckl0ZW1zIiwiaXRlbSIsImVsZW1lbnQiLCJhZGRJdGVtIiwicHJlcGVuZCIsIlBvcHVwIiwicG9wdXBTZWxlY3RvciIsIl9wb3B1cEVsZW1lbnQiLCJfaGFuZGxlRXNjQ2xvc2UiLCJiaW5kIiwiX2Nsb3NlQnV0dG9uIiwib3BlbiIsImNsb3NlIiwicmVtb3ZlRXZlbnRMaXN0ZW5lciIsImtleSIsInRhcmdldCIsIlBvcHVwV2l0aEZvcm0iLCJoYW5kbGVGb3JtU3VibWl0Iiwic3VwZXIiLCJfcG9wdXBGb3JtIiwiX2hhbmRsZUZvcm1TdWJtaXQiLCJfaW5wdXRMaXN0IiwiX2dldElucHV0VmFsdWVzIiwiX2Zvcm1WYWx1ZXMiLCJpbnB1dCIsInZhbHVlIiwicmVzZXQiLCJzZXRTdWJtaXRIYW5kbGVyIiwibmV3U3VibWl0SGFuZGxlciIsInNldExvYWRpbmciLCJpc0xvYWRpbmciLCJsb2FkaW5nVGV4dCIsImFyZ3VtZW50cyIsImxlbmd0aCIsInVuZGVmaW5lZCIsImRlZmF1bHRUZXh0Iiwic2V0QXR0cmlidXRlIiwicmVtb3ZlQXR0cmlidXRlIiwiZm9ybVNlbGVjdG9yIiwiZWxlbWVudHMiLCJwcm9maWxlRWRpdEJ0biIsInByb2ZpbGVUaXRsZUlucHV0IiwicHJvZmlsZUVkaXRGb3JtIiwiZm9ybXMiLCJwcm9maWxlRGVzY3JpcHRpb25JbnB1dCIsInBsYWNlc0FkZEJ0biIsInBsYWNlQWRkRm9ybSIsImF2YXRhclVwZGF0ZUJ0biIsImF2YXRhckZvcm0iLCJhcGkiLCJiYXNlVXJsIiwiaGVhZGVycyIsIl9iYXNlVXJsIiwiX2hlYWRlcnMiLCJnZXRJbml0aWFsQ2FyZHMiLCJmZXRjaCIsIm1ldGhvZCIsInRoZW4iLCJyZXMiLCJvayIsImpzb24iLCJQcm9taXNlIiwicmVqZWN0Iiwic3RhdHVzIiwiZ2V0VXNlckluZm8iLCJlZGl0VXNlckluZm8iLCJhYm91dCIsImJvZHkiLCJKU09OIiwic3RyaW5naWZ5IiwiYWRkTmV3UGxhY2UiLCJyZW1vdmVQbGFjZSIsImNhcmRJRCIsInVwZGF0ZUF2YXRhciIsImF2YXRhciIsImFkZExpa2VSZWFjdCIsImNhcmRJZCIsInJlbW92ZUxpa2VSZWFjdCIsImF1dGhvcml6YXRpb24iLCJpbWFnZURhdGEiLCJpbWFnZVByZXZpZXdNb2RhbCIsInByb2ZpbGVFZGl0VmFsaWRhdGlvbiIsImFkZFBsYWNlVmFsaWRhdGlvbiIsImF2YXRhclZhbGlkYXRpb24iLCJlZGl0UHJvZmlsZU1vZGFsIiwicHJvZmlsZUlucHV0VmFsdWVzIiwidXNlckRhdGEiLCJ0aXRsZSIsImRlc2NyaXB0aW9uIiwidXBkYXRlZFVzZXJEYXRhIiwidXNlckluZm8iLCJzZXRVc2VySW5mbyIsImNhdGNoIiwiZXJyIiwiY29uc29sZSIsImVycm9yIiwiZmluYWxseSIsImFkZFBsYWNlTW9kYWwiLCJwbGFjZUNhcmREYXRhIiwiY2FyZERhdGEiLCJ1cmwiLCJuZXdQbGFjZUNhcmQiLCJjYXJkRWxlbWVudCIsImdldENhcmRFbGVtZW50Iiwic2VjdGlvbiIsInVwZGF0ZUF2YXRhck1vZGFsIiwibG9nIiwiX3ByZXZpZXdJbWFnZSIsIl9wcmV2aWV3VGl0bGUiLCJkZWxldGVQbGFjZU1vZGFsIiwiaGFuZGxlTGlrZVJlYWN0IiwiX3Byb2ZpbGVOYW1lIiwiX3Byb2ZpbGVKb2IiLCJfcHJvZmlsZUF2YXRhciIsImltYWdlIiwiam9iIiwibGlrZVJlYWN0IiwibGlrZVN0YXR1cyIsInByb2ZpbGVEYXRhIl0sInNvdXJjZVJvb3QiOiIifQ==